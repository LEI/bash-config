# ~/.tmux.conf

set-environment -g TMUX_VERSION "$(echo $(tmux -V) | tr -dC '[:digit:]')"

if-shell '[[ "$TMUX_VERSION" -gt 19 ]]' 'set -g mouse on'
set -s escape-time 0

set-option -g default-terminal "screen-256color"

if-shell '[[ -z "$SSH_TTY" ]]' 'set -g prefix C-a; bind C-a send-prefix; unbind C-b'

bind r source-file ~/.tmux.conf \; display-message 'Reloaded ~/.tmux.conf'

# Tmux Plugin Manager
set-environment -g TMUX_PLUGIN_MANAGER_PATH "$HOME/.tmux/plugins"
# run-shell '$TMUX_PLUGIN_MANAGER_PATH/bindings/install_plugins'

if-shell "test ! -d ~/.tmux/plugins/tpm" \
  "run-shell 'git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm'"

set -g @plugin "tmux-plugins/tpm"
set -g @plugin "tmux-plugins/tmux-sensible"

# Keep this line at the very bottom of tmux.conf
run-shell "~/.tmux/plugins/tpm/tpm"
